<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FATBLOX57 | Cloud Admin</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600&display=swap" rel="stylesheet">
    <script>
        if (sessionStorage.getItem("vault_access") !== "vault1") { window.location.href = "admin.html"; }
    </script>
    <style>
        body { font-family: 'Outfit'; background: #f4f7fe; padding: 50px; }
        .card { background: white; padding: 30px; border-radius: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.05); }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th { background: #0b1224; color: white; padding: 12px; text-align: left; }
        td { padding: 12px; border: 1px solid #eee; }
        button { background: #0052cc; color: white; padding: 10px 20px; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>
    <div class="card">
        <h1>Cloud Database Manager</h1>
        <p>Current API: https://sheetdb.io/api/v1/wwicy7zpjd0r4</p>
        <br>
        <button onclick="fetchData()">REFRESH CLOUD DATA</button>
        <table>
            <thead>
                <tr><th>Username</th><th>Game</th><th>Age</th></tr>
            </thead>
            <tbody id="entries"></tbody>
        </table>
    </div>

    <script>
        function fetchData() {
            const tableBody = document.getElementById('entries');
            tableBody.innerHTML = "<tr><td colspan='3'>Pulling from Cloud...</td></tr>";

            fetch('https://sheetdb.io/api/v1/wwicy7zpjd0r4') 
            .then(res => res.json())
            .then(data => {
                let html = '';
                data.forEach(item => {
                    html += `<tr>
                        <td>${item.Username}</td>
                        <td>${item.Game}</td>
                        <td>${item.Age}</td>
                    </tr>`;
                });
                tableBody.innerHTML = html;
            });
        }
    </script>
</body>
</html>